name: Retouch CI

actions:
  - name: Build App
    action: build
    scheme: RetouchMain
    platform: iOS

  - name: Run App Tests
    action: test
    scheme: RetouchMain
    platform: iOS

  - name: Run SwiftPM Domain Tests
    action: script
    script: |
      echo "Running RetouchDomainTests"
      swift test --package-path Core/RetouchDomain

  - name: Run SwiftPM Utils Tests
    action: script
    script: |
      echo "Running RetouchUtilsTests"
      swift test --package-path Shared/RetouchUtils

  - name: Run SwiftPM DesignSystem Tests
    action: script
    script: |
      echo "Running RetouchDesignSystemTests"
      swift test --package-path Shared/RetouchDesignSystem

  - name: Run SwiftPM Networking Tests
    action: script
    script: |
      echo "Running RetouchNetworkingTests"
      swift test --package-path Shared/RetouchNetworking

startCondition:
  trigger: pullRequest
